<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap">
    <title>Odd One Out</title>
    <link rel="icon" href="spy_icon_205840.ico" />
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
    <!-- /////////////////////////////////////////////////////////////////////////////// -->
     <header>
      <h1 id= logo>Odd One Out</h1>
      <nav>
          <a href="index.html">Home</a>
          <a href="waitingRoom.html">Host Game</a>
          <a href="invitation.html">Join Game</a>
      </nav>
    </header>
    <!-- /////////////////////////////////////////////////////////////////////////////// -->
    <main class="smallPage">
        <table border="1" cellspacing="2" cellpadding="5" >
            <tr>
                <th>
                    Your Secret Word:
                </th>
                 <td id="secretWordDisplay">
                      
                    </td>
            </tr>
            </table>

            <div id="carousel" action="onclick">
              <!-- DIV ELEMENTS INSERTED HERE -->
            </div>
      
            <form><button class="button">Submit Vote</button></form>
    </main>
    <!-- /////////////////////////////////////////////////////////////////////////////// -->
    <footer>
      <span class="footer-info">Brixtin Walker</span>
      <span class="footer-info">brixtinlwalker@gmail.com</span>
      <span class="footer-info">CS 260</span>
      <br />
      <a href="https://github.com/BrixtinW/CS_260">GitHub</a>
    </footer>
    <!-- /////////////////////////////////////////////////////////////////////////////// -->

    <script>
    let voteMap = new Map();

    document.addEventListener("DOMContentLoaded", function() {
        var playerNames = JSON.parse(localStorage.getItem("playerNames")) || [];
        var myName = JSON.parse(localStorage.getItem("myName")) || [];
        

        var targetDiv = document.getElementById("carousel");

        playerNames.forEach(function(playerName) {
            var newItem = document.createElement("div");
            newItem.classList.add("item"); 
            newItem.textContent = playerName; 

            newItem.addEventListener("click", function() {
            selectPlayer(myName, playerName);
        });

            targetDiv.appendChild(newItem);

        });


        const wordPairs = [
          ["butterfly", "Octopus"],
          ["ground", "Octopus"],
          ["hahaha", "Octopus"], 
          ["I", "Octopus"],
          ["Don't", "Octopus"],
          ["Know", "Octopus"],
          ["What", "Octopus"],
          ["WOrds", "Octopus"],
          ["To", "Octopus"],
          ["Put", "Octopus"],
          ["In", "Octopus"],
          ["Here", "Octopus"],
          ["But", "Octopus"],
          ["This", "Octopus"],
          ["Works", "Octopus"],
          ["so", "Octopus"],
          ["Far!!", "Octopus"],]

        const randomNum = Math.floor(Math.random() * wordPairs.length); 
        const secretWord = wordPairs[randomNum][0];


        var secretWordDisplay= document.getElementById("secretWordDisplay");
        secretWordDisplay.textContent = secretWord;

    });

    

    window.addEventListener("beforeunload", function(event) {
        localStorage.clear();
    });


    function selectPlayer(myName, playerName){
    voteMap.set(myName, playerName);
    console.log(myName, "votes for", playerName)
}

  </script>
  // <script src="index.js"></script> 
  </body>
</html>